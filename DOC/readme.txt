/*********************************************************************************************/
【*】程序简介

-工程名称：USART接发-接收中断加空闲中断
-实验平台: 野火 ebf_py32f030 PY32开发板 

-功能介绍：使用USART接收数据并将数据回传。

/*********************************************************************************************/
【*】实验操作：
电脑端使用串口调试助手，选择电脑与PY32开发板相连的COM口，设置为115200-N-8-1，
复位开发板，即可接收PY32开发板串口发送给电脑的数据。
电脑端发送字符到PY32开发板，PY32开发板会回显该字符到电脑端。
按下KEY1后，GD32发送“按下KEY1”
按下KEY2后，GD32发送“按下KEY2”

【*】注意事项：
 串口波特率：115200

/*********************************************************************************************/
【*】引脚分配

LED灯：
共阳极，低电平亮。
	LED2引脚为PA1
	LED3引脚为PA5
	LED4引脚为PA4
	


KEY:
两个按键均有硬件去抖，按下的时候均为低电平，不按时为高电平。
	KEY1<--->PA0
	KEY2<--->PA3

USART：
	CH340  RX  <----->  USART0  TX  (PB4)
	CH340  TX  <----->  USART0  RX  (PB5)			
		
/*********************************************************************************************/		
【*】程序描述：
<main.c>
	1.初始化LED和按键中断
	2.按键中断，若按键按下则反转LED

<bsp_gpio_key.h>
	1.宏定义按键的端口、时钟、引脚
	2.宏定义按键状态
	3.宏定义按键键值	

<bsp_gpio_key.c>
-按键配置函数
	1.开启端口时钟
	2.配置按键为中断模式
-按键中断服务回调函数
	1.检测IO口的状态
	2.如果按下则返回按键值，未按下则返回UP

<bsp_gpio_led.h>
	1.宏定义LED灯的端口、时钟、引脚
	2.宏定义LED灯的亮灭函数
	3.宏定义LED灯的控制函数

<bsp_gpio_led.c>
	1.开启LED时钟
	2.配置LED端口输出模式
	3.关闭所有LED灯

<py32f002b_it.c>
	1.实现串口中断公共服务函数
	2.将接收到的数据传输回PC端

<bsp_usart_debug.h>

	1.宏定义USART0,1,2
	2.通过对USARTx的宏定义，来选择使用哪一个串口
	3.宏定义串口名，时钟，波特率
	4.宏定义串口的GPIO时钟，端口，引脚
	
<bsp_usart_debug.c>
	
-UASRT配置函数

	1.打开串口的时钟
	2.将USART Tx的GPIO配置为推挽复用模式，将USART Rx的GPIO配置引脚为复用功能
	3.选择复用通道
	4.复位外设USART
	5.配置串口的工作参数：
	  波特率为头文件中宏定义的参数
	  数据位为8
	  停止位为1
	  无校验位
	  失能RTS，CTS
	  使能收发模式
	6.配置串口中断优先级
	7.使能串口接收和空闲帧中断
	8.使能串口

-USART发送函数

	1.通过固件库中的HAL_UART_Transmit函数来不断封装
	2.分别得到发送字节，8位的数组，字符串，16位数的函数
	
-重定向
	1.重定向printf函数
	


/*********************************************************************************************/
【*】 联系我们

-野火官网  :https://embedfire.com
-野火论坛  :http://www.firebbs.cn
-野火天猫  :https://yehuosm.tmall.com
-野火京东  :https://yehuo.jd.com/
-野火资料下载中心 :https://doc.embedfire.com/products/link/

/*********************************************************************************************/